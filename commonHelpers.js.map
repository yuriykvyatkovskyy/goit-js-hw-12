{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input');\nconst galleryBox = document.querySelector('.gallery-box');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst loaderBottom = document.querySelector('.loader-bottom');\nconst loadingBtn = document.querySelector('.loading-btn');\n\nlet page = 1;\nlet q = '';\nlet per_page = 40;\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    nav: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    close: true,\n    enableKeyboard: true,\n    docClose: true,\n});\n\nform.addEventListener('submit', onSubmit);\nloadingBtn.addEventListener('click', loadMore);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  page = 1;\n  loader.style.display = 'none';\n  q = event.target.elements.search.value.trim();\n\n  if (!q) {\n    gallery.innerHTML = '';\n    loadingBtn.style.display = 'none';\n    return iziToast.info({\n      position: 'topRight',\n      message: 'Error enter any symbols',\n    });\n  }\n  try {\n    loader.style.display = 'block';\n    const {\n      data: { hits, total },\n    } = await searchImg(q, page);\n\n    if (hits.length > 0) {\n      loader.style.display = 'none';\n      gallery.innerHTML = renderImg(hits);\n      lightbox.refresh();\n      iziToast.success({\n        position: 'topRight',\n        message: `We found ${total} photos`,\n      });\n      loadingBtn.style.display = 'block';\n    } else {\n      gallery.innerHTML = '';\n      iziToast.error({\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    }\n\n    if (total <= per_page) {\n      loadingBtn.style.display = 'none';\n    }\n  } catch (error) {\n    console.log('Error');\n  } finally {\n    loader.style.display = 'none';\n    form.reset();\n  }\n}\n\n"],"names":["form","gallery","loader","loadingBtn","page","q","per_page","lightbox","SimpleLightbox","onSubmit","event","iziToast","hits","total"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,OAAO,EACzB,SAAS,cAAc,cAAc,EACxD,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC1B,SAAS,cAAc,gBAAgB,EAC5D,MAAMC,EAAa,SAAS,cAAc,cAAc,EAExD,IAAIC,EAAO,EACPC,EAAI,GACJC,EAAW,GAEf,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACd,CAAC,EAEDR,EAAK,iBAAiB,SAAUS,CAAQ,EACxCN,EAAW,iBAAiB,QAAS,QAAQ,EAE7C,eAAeM,EAASC,EAAO,CAM7B,GALAA,EAAM,eAAc,EACpBN,EAAO,EACPF,EAAO,MAAM,QAAU,OACvBG,EAAIK,EAAM,OAAO,SAAS,OAAO,MAAM,OAEnC,CAACL,EACH,OAAAJ,EAAQ,UAAY,GACpBE,EAAW,MAAM,QAAU,OACpBQ,EAAS,KAAK,CACnB,SAAU,WACV,QAAS,yBACf,CAAK,EAEH,GAAI,CACFT,EAAO,MAAM,QAAU,QACvB,KAAM,CACJ,KAAM,CAAE,KAAAU,EAAM,MAAAC,CAAO,CACtB,EAAG,MAAM,UAAUR,EAAGD,CAAI,EAEvBQ,EAAK,OAAS,GAChBV,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAY,UAAUW,CAAI,EAClCL,EAAS,QAAO,EAChBI,EAAS,QAAQ,CACf,SAAU,WACV,QAAS,YAAYE,UAC7B,CAAO,EACDV,EAAW,MAAM,QAAU,UAE3BF,EAAQ,UAAY,GACpBU,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACV,CAAO,GAGCE,GAASP,IACXH,EAAW,MAAM,QAAU,OAE9B,MAAC,CACA,QAAQ,IAAI,OAAO,CACvB,QAAY,CACRD,EAAO,MAAM,QAAU,OACvBF,EAAK,MAAK,CACX,CACH"}